<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Barbell Plate Calculator | The Ultimate Gym Rack Math Tool 2025</title>
    <meta name="description"content="Instant barbell plate calculator for powerlifting and weightlifting. Visualize your lift, calculate plates per side, and convert Lbs/Kg. Mobile-friendly rack math tool.">
    <meta name="keywords"content="plate calculator, barbell calculator, rack math, gym calculator, weightlifting plate calculator, powerlifting tools, 45lb plate math, kg to lbs gym, olympic bar loading, barbell loader">
    <meta name="author"content="GitHub Client-Side Tool">
    <meta name="robots"content="index, follow">
    <link rel="canonical"href="https://www.toolvala.in/barbell-plate-calculator.html">
    <!-- FontAwesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Open Graph / Social -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="Barbell Plate Calculator - Stop Doing Gym Math">
    <meta property="og:description" content="Calculate exactly which plates to load on the bar. Visual representation for Lbs and Kg. Works offline.">

    <style>
        :root {
            --primary: #dc2626; /* Powerlifting Red */
            --dark: #171717;
            --light: #f5f5f5;
            --plate-45: #0ea5e9; /* Blue */
            --plate-35: #eab308; /* Yellow */
            --plate-25: #22c55e; /* Green */
            --plate-10: #ffffff; /* White */
            --plate-change: #64748b; /* Slate */
            --bar-color: #94a3b8;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: var(--light);
            color: #333;
            line-height: 1.6;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
        }

        /* --- Tool Section --- */
        .calculator-wrapper {
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            overflow: hidden;
            margin-bottom: 3rem;
        }

        .tool-header {
            background: var(--dark);
            color: white;
            padding: 1.5rem;
            text-align: center;
        }

        .tool-header h1 { margin: 0; font-size: 1.8rem; }
        .tool-header p { color: #aaa; font-size: 0.9rem; margin-top: 5px; }

        .tool-body { padding: 2rem; }

        /* Inputs Grid */
        .input-group {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 2rem;
        }

        .control-box {
            display: flex;
            flex-direction: column;
        }

        label { font-weight: 700; margin-bottom: 5px; font-size: 0.9rem; color: var(--dark); }

        input[type="number"], select {
            padding: 12px;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            font-size: 1.1rem;
            width: 100%;
        }

        input[type="number"]:focus, select:focus {
            border-color: var(--primary);
            outline: none;
        }

        /* Toggle Switch */
        .unit-toggle {
            display: flex;
            background: #e5e7eb;
            border-radius: 8px;
            padding: 4px;
            width: fit-content;
        }

        .unit-btn {
            padding: 8px 20px;
            border: none;
            background: transparent;
            cursor: pointer;
            border-radius: 6px;
            font-weight: bold;
            transition: 0.2s;
        }

        .unit-btn.active {
            background: white;
            color: var(--primary);
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        /* Visualization Area */
        .barbell-container {
            background: #e2e8f0;
            border-radius: 10px;
            padding: 40px 20px;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center; /* Center initially */
            min-height: 200px;
            overflow-x: auto;
            margin-bottom: 2rem;
        }

        /* The Bar */
        .bar-shaft {
            height: 20px;
            background: #94a3b8; /* Silver */
            width: 100%;
            position: absolute;
            z-index: 1;
            box-shadow: inset 0 2px 5px rgba(0,0,0,0.2);
        }

        .bar-sleeve {
            height: 50px;
            background: #cbd5e1;
            width: 300px; /* Arbitrary length for visual */
            position: absolute;
            right: 0;
            z-index: 2;
            border-left: 5px solid #64748b; /* Collar */
            display: flex;
            align-items: center;
            justify-content: flex-start; /* Stack plates from left */
            padding-left: 10px;
        }

        /* CSS Plates */
        .plate {
            width: 15px; /* Thickness visual */
            margin-right: 2px;
            border-radius: 4px;
            border: 1px solid rgba(0,0,0,0.2);
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            color: rgba(0,0,0,0.6);
            font-weight: bold;
            font-size: 10px;
            writing-mode: vertical-rl;
            text-orientation: mixed;
            transition: transform 0.3s;
            cursor: help;
        }
        
        .plate:hover { transform: scale(1.1); z-index: 10; }

        /* Plate Sizes (Heights) */
        .size-45, .size-20kg { height: 180px; background-color: var(--plate-45); }
        .size-35, .size-15kg { height: 160px; background-color: var(--plate-35); }
        .size-25, .size-10kg { height: 140px; background-color: var(--plate-25); } /* Green */
        .size-10, .size-5kg { height: 100px; background-color: var(--plate-10); border: 1px solid #ccc; }
        .size-5, .size-2-5kg { height: 80px; background-color: var(--plate-change); color: white; }
        .size-2-5, .size-1-25kg { height: 60px; background-color: #333; color: white; }

        /* Result Text */
        .result-box {
            background: #f8fafc;
            border-left: 5px solid var(--primary);
            padding: 1.5rem;
            margin-bottom: 2rem;
        }

        .result-box h3 { margin-bottom: 10px; }
        .plate-list { font-family: monospace; font-size: 1.2rem; }

        /* Inventory Toggles */
        .inventory-section {
            border-top: 1px solid #e5e7eb;
            padding-top: 1.5rem;
        }
        .inventory-grid {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
        }
        .inv-item {
            display: flex;
            align-items: center;
            background: #f1f5f9;
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 0.9rem;
        }
        .inv-item input { margin-right: 8px; }

        /* --- RELATED TOOLS CSS --- */
        .related-tools {
            margin: 0 auto 3rem auto;
            max-width: 1000px;
        }

        .tool-category {
            font-size: 1.5rem;
            color: var(--dark);
            margin-bottom: 1.5rem;
            border-left: 5px solid var(--primary);
            padding-left: 1rem;
        }

        .tools-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 20px;
        }

        .tool-card {
            display: block;
            background: white;
            border-radius: 12px;
            padding: 1.5rem;
            text-decoration: none;
            color: var(--dark);
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
            border: 1px solid #e5e7eb;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .tool-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 15px rgba(0,0,0,0.1);
            border-color: var(--primary);
        }

        .tool-left {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .icon {
            width: 50px;
            height: 50px;
            background: #f1f5f9;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--primary);
            font-size: 1.2rem;
            flex-shrink: 0;
        }

        .tool-title {
            font-weight: 700;
            font-size: 1.1rem;
            margin-bottom: 4px;
        }

        .tool-desc {
            color: #64748b;
            font-size: 0.9rem;
        }

        /* SEO Content Styles */
        .content-section {
            background: white;
            padding: 3rem;
            border-radius: 15px;
            max-width: 900px;
            margin: 0 auto;
        }
        
        h2 { color: var(--primary); font-size: 2rem; margin-top: 2.5rem; margin-bottom: 1rem; }
        h3 { font-size: 1.5rem; margin-top: 1.5rem; margin-bottom: 0.8rem; color: var(--dark); }
        p { margin-bottom: 1.2rem; text-align: justify; }
        ul, ol { margin-bottom: 1.5rem; padding-left: 2rem; }
        li { margin-bottom: 0.5rem; }
        
        .faq-item {
            background: #f9fafb;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            padding: 1.5rem;
            margin-bottom: 1rem;
        }
        .faq-q { font-weight: bold; color: var(--primary); margin-bottom: 0.5rem; display: block; }

        @media (max-width: 600px) {
            .tool-header h1 { font-size: 1.5rem; }
            .content-section { padding: 1.5rem; }
            .bar-sleeve { width: 60%; } /* Smaller sleeve on mobile */
        }
    </style>
</head>
<body>

<div class="container">
    
    <!-- TOOL SECTION -->
    <div class="calculator-wrapper">
        <div class="tool-header">
            <h1>üèãÔ∏è Barbell Plate Calculator</h1>
            <p>Accurate Rack Math for Powerlifting & Weightlifting</p>
        </div>
        
        <div class="tool-body">
            <!-- Controls -->
            <div class="input-group">
                <div class="control-box">
                    <label>Unit System</label>
                    <div class="unit-toggle">
                        <button class="unit-btn active" onclick="setUnit('lbs')" id="btn-lbs">Lbs</button>
                        <button class="unit-btn" onclick="setUnit('kg')" id="btn-kg">Kg</button>
                    </div>
                </div>

                <div class="control-box">
                    <label for="bar-weight">Bar Weight</label>
                    <select id="bar-weight" onchange="calculate()">
                        <!-- Options populated by JS -->
                    </select>
                </div>

                <div class="control-box">
                    <label for="target-weight">Target Weight</label>
                    <input type="number" id="target-weight" placeholder="e.g., 225" oninput="calculate()">
                </div>
            </div>

            <!-- Visual Bar -->
            <div class="barbell-container" id="visual-area">
                <div class="bar-shaft"></div>
                <div class="bar-sleeve" id="bar-sleeve">
                    <!-- Plates go here -->
                </div>
            </div>

            <!-- Text Result -->
            <div class="result-box">
                <h3>Load Per Side:</h3>
                <div id="text-result" class="plate-list">Enter a weight to see plates...</div>
                <div id="remainder-msg" style="color: red; font-size: 0.9rem; margin-top: 5px;"></div>
            </div>

            <!-- Inventory Management -->
            <div class="inventory-section">
                <label style="display:block; margin-bottom:10px;">Available Plates (Uncheck if missing):</label>
                <div class="inventory-grid" id="inventory-container">
                    <!-- Checkboxes populated by JS -->
                </div>
            </div>
        </div>
    </div>

    <!-- RELATED TOOLS SECTION -->
    <div class="related-tools">
        <h2 class="tool-category">Calculator Tools</h2>
        <div class="tools-grid">
            <a href="age-calculator.html" class="tool-card">
              <div class="tool-left">
                <div class="icon"><i class="fa-solid fa-cake-candles"></i></div>
                <div>
                  <div class="tool-title">Age Calculator</div>
                  <div class="tool-desc">Calculate exact age</div>
                </div>
              </div>
            </a>
            
            <a href="birthday-countdown-calculator.html" class="tool-card">
              <div class="tool-left">
                <div class="icon"><i class="fa-solid fa-calendar-days"></i></div>
                <div>
                  <div class="tool-title">Birthday Countdown</div>
                  <div class="tool-desc">Days left for birthday</div>
                </div>
              </div>
            </a>
            
            <a href="compound-interest-calculator.html" class="tool-card">
              <div class="tool-left">
                <div class="icon"><i class="fa-solid fa-chart-line"></i></div>
                <div>
                  <div class="tool-title">Compound Interest Calculator</div>
                  <div class="tool-desc">Calculate investment growth</div>
                </div>
              </div>
            </a>
        </div>
    </div>

    <!-- SEO CONTENT SECTION -->
    <article class="content-section">
        <h1>The Ultimate Guide to Barbell Plate Calculators & Rack Math</h1>
        
        <p>In the world of strength training, focus is a finite resource. Whether you are preparing for a heavy 1-rep max (1RM) on the bench press or cycling through high-volume squats, your mental energy should be directed toward your cueing, bracing, and execution‚Äînot doing mental arithmetic. This is where a <strong>barbell plate calculator</strong> becomes an essential tool in your gym bag.</p>

        <p>Commonly known as "Rack Math," the process of calculating which plates to load onto a barbell to achieve a specific target weight is a frequent source of frustration and error. Miscalculating your load can lead to dangerous imbalances, failed lifts due to unexpected weight jumps, or simply the embarrassment of stripping the bar to fix a math error. This guide explores the mechanics of plate loading, the differences between standard and Olympic plates, and how to optimize your training using digital tools.</p>

        <h2>Why You Need a Plate Calculator</h2>
        <p>Gym fatigue is real. As your workout progresses, glycogen levels deplete, and cognitive function can dip slightly due to physical exertion. This phenomenon, often jokingly referred to as "gym brain," makes simple subtraction (Target Weight minus Bar Weight divided by two) surprisingly difficult.</p>
        <ul>
            <li><strong>Precision:</strong> Ensuring you are lifting exactly what your program calls for is critical for progressive overload.</li>
            <li><strong>Speed:</strong> A calculator gives you the answer instantly, keeping your rest periods strictly for resting.</li>
            <li><strong>Inventory Management:</strong> Not every gym has infinite 45lb plates. A good calculator helps you hit your weight using whatever plates are available (e.g., using 35s when the 45s are taken).</li>
        </ul>

        <h2>Understanding the Standard Gym Setup</h2>
        <p>Before diving into the math, it is crucial to understand the equipment. Most commercial gyms and powerlifting meets use standardized equipment, but variations exist.</p>

        <h3>1. The Barbell</h3>
        <p>The standard Olympic barbell is the foundation of free-weight training. However, its weight depends on the unit system and the specific discipline:</p>
        <ul>
            <li><strong>Standard Olympic Bar (Lbs):</strong> Typically 45 lbs. This is the gold standard in American commercial gyms.</li>
            <li><strong>Standard Metric Bar (Kg):</strong> Exactly 20 kg (44.1 lbs). Used in the IPF (International Powerlifting Federation) and IWF (International Weightlifting Federation).</li>
            <li><strong>Women's Bar:</strong> Typically 33 lbs or 15 kg. These bars have a smaller shaft diameter (25mm vs 28/29mm) for smaller hands.</li>
            <li><strong>Safety Squat Bars / Trap Bars:</strong> These specialty bars vary wildly, often weighing 45, 55, or even 60+ lbs. Always check the manufacturer's stamp.</li>
        </ul>

        <h3>2. The Plates (Color Coding & Weights)</h3>
        <p>While iron plates are usually just black or gray, competition plates follow a strict color code established by the IWF/IPF. This tool uses these colors for visualization.</p>
        
        <strong>Pounds (Lbs) System:</strong>
        <ul>
            <li><strong>45 lbs (Blue/Black):</strong> The standard "wheel."</li>
            <li><strong>35 lbs (Yellow):</strong> Often avoided by powerlifters ("35s are fake plates"), but useful for bridging gaps.</li>
            <li><strong>25 lbs (Green):</strong> A quarter.</li>
            <li><strong>10 lbs (White/Black):</strong> A dime.</li>
            <li><strong>5 lbs (Red/Black):</strong> A nickel.</li>
            <li><strong>2.5 lbs:</strong> Change plate.</li>
        </ul>

        <strong>Kilograms (Kg) System:</strong>
        <ul>
            <li><strong>25 kg (Red):</strong> Heavy hitters (55.1 lbs).</li>
            <li><strong>20 kg (Blue):</strong> The metric standard (44.1 lbs).</li>
            <li><strong>15 kg (Yellow):</strong> (33.1 lbs).</li>
            <li><strong>10 kg (Green):</strong> (22 lbs).</li>
            <li><strong>5 kg (White):</strong> Technical plate.</li>
            <li><strong>2.5 kg (Red), 1.25 kg (Chrome):</strong> Micro-loading.</li>
        </ul>

        <h2>How to Calculate Barbell Weight Manually</h2>
        <p>If you find yourself without this tool, here is the formula for "Rack Math":</p>
        <p><code>(Target Weight - Bar Weight) / 2 = Weight Per Side</code></p>
        <p><strong>Example:</strong> You want to squat 315 lbs using a 45 lb bar.</p>
        <ol>
            <li>315 - 45 = 270 lbs (Total plate weight needed).</li>
            <li>270 / 2 = 135 lbs (Weight needed on <em>each</em> side).</li>
            <li>Now, load the heaviest plates first to hit 135:
                <ul>
                    <li>Take a 45. (Remaining: 90)</li>
                    <li>Take another 45. (Remaining: 45)</li>
                    <li>Take another 45. (Remaining: 0)</li>
                </ul>
            </li>
            <li><strong>Result:</strong> Three 45lb plates per side.</li>
        </ol>

        <h2>Strategic Plate Loading</h2>
        <p>It is not just about the math; it is about physics. How you load the bar matters for safety and bar feel.</p>
        
        <h3>Load Heaviest to Lightest</h3>
        <p>Always load the heaviest plates on the inside (closest to the collar). This reduces the "moment arm" or leverage the weight has against the center of the bar. Loading heavy weights at the end of the sleeve causes the bar to whip (bend) excessively, which creates instability during squats and bench presses.</p>

        <h3>Label Facing In</h3>
        <p>While this is purely aesthetic and tradition, most lifters load plates with the text facing inward. This keeps the smooth side out, making it easier to slide plates next to each other flush.</p>

        <h3>Using Collars</h3>
        <p>Once your calculation is done and plates are loaded, <strong>always</strong> use a collar. Physics dictates that plates will slide as the bar tilts. If plates slide off one side mid-squat, the bar will violently flip to the other side due to the sudden counterbalance change, causing severe injury.</p>

        <h2>Advanced Training: Micro-Loading</h2>
        <p>Progressive overload‚Äîthe gradual increase of stress placed upon the body‚Äîis the key to strength gains. However, you cannot always add 10 lbs (a 5lb plate per side) every week. Eventually, you will hit a plateau.</p>
        <p>This is where <strong>fractional plates</strong> or micro-loading comes in. By using 1.25 lb or 0.5 kg plates, you can increase the total load by just 2.5 lbs or 1 kg. This allows for sustained progress over months rather than stalling out. Our calculator supports standard change plates (2.5 lbs / 1.25 kg) to assist with these precise calculations.</p>

        <h2>Lbs vs. Kg: The Global Divide</h2>
        <p>The United States primarily uses Pounds (Lbs), while the rest of the world (and international weightlifting competitions) uses Kilograms (Kg). Powerlifting in the US is a mix, with local meets often using Lbs and national/international meets using Kg.</p>
        <p><strong>Quick Conversion Heuristics:</strong></p>
        <ul>
            <li><strong>1 kg = 2.2046 lbs</strong></li>
            <li>To roughly convert Kg to Lbs: Double the weight and add 10%. (e.g., 100kg x 2 = 200 + 20 = 220lbs).</li>
            <li>To roughly convert Lbs to Kg: Divide by 2.2.</li>
        </ul>
        <p>This tool features a built-in toggle to switch unit systems instantly, adjusting both the available plate inventory and the barbell weight options automatically.</p>

        <h2>Frequently Asked Questions (FAQ)</h2>

        <div class="faq-item">
            <span class="faq-q">Does the bar weight count towards the total?</span>
            <p>Yes! In weightlifting, the "weight on the bar" always includes the bar itself and the collars (if they are heavy competition collars, typically 2.5kg each). If you say you bench pressed 225 lbs, that includes the 45 lb bar.</p>
        </div>

        <div class="faq-item">
            <span class="faq-q">What if the weight doesn't divide evenly?</span>
            <p>If your target weight requires a plate smaller than what you own (e.g., wanting 102 lbs but you only have 2.5 lb plates), you have to round up or down. Our tool will show a "Remainder" warning if you cannot hit the exact number with your selected inventory.</p>
        </div>

        <div class="faq-item">
            <span class="faq-q">Why are 35 lb plates rare in powerlifting gyms?</span>
            <p>Mathematically, 35 lb plates are inefficient. You can make 35 lbs using a 25 and a 10. Serious gyms prefer stocking more 45s (for total load) and smaller change plates (for precision) rather than the intermediate 35s which just take up tree space.</p>
        </div>

        <div class="faq-item">
            <span class="faq-q">Is a standard bar always 45 lbs?</span>
            <p>Not always. Cheap "standard" bars (1-inch diameter ends) found in basement sets often weigh 15-20 lbs. Olympic bars (2-inch sleeves) are usually 44-45 lbs. Always check the end cap of the bar or weigh it yourself if unsure.</p>
        </div>

        <h2>Conclusion</h2>
        <p>Whether you are calculating a warm-up set of 135 lbs or a personal record attempt of 500 lbs, accuracy matters. Using a plate calculator removes the cognitive load, ensures safety, and helps you maintain the flow of your workout. Bookmark this page to ensure you never have to do mental math while gasping for air after a heavy set of squats again.</p>

    </article>
</div>

<script>
    // --- Configuration ---
    const CONFIG = {
        lbs: {
            plates: [45, 35, 25, 10, 5, 2.5],
            bars: [45, 35, 33, 25],
            colorMap: {
                45: 'size-45',
                35: 'size-35',
                25: 'size-25',
                10: 'size-10',
                5:  'size-5',
                2.5:'size-2-5'
            }
        },
        kg: {
            plates: [25, 20, 15, 10, 5, 2.5, 1.25],
            bars: [20, 15, 10],
            colorMap: {
                25: 'size-25kg', // Red
                20: 'size-20kg', // Blue
                15: 'size-15kg', // Yellow
                10: 'size-10kg', // Green
                5:  'size-5kg',  // White
                2.5:'size-2-5kg',// Red small
                1.25:'size-1-25kg' // Chrome
            }
        }
    };

    let currentUnit = 'lbs';
    
    // Inventory State (Tracks which plates user has enabled)
    let inventory = {
        lbs: {},
        kg: {}
    };

    // Initialize Inventory State
    CONFIG.lbs.plates.forEach(p => inventory.lbs[p] = true);
    CONFIG.kg.plates.forEach(p => inventory.kg[p] = true);

    // --- DOM Elements ---
    const targetInput = document.getElementById('target-weight');
    const barSelect = document.getElementById('bar-weight');
    const sleeveDiv = document.getElementById('bar-sleeve');
    const resultText = document.getElementById('text-result');
    const remainderMsg = document.getElementById('remainder-msg');
    const invContainer = document.getElementById('inventory-container');

    // --- Initialization ---
    function init() {
        populateBarOptions();
        renderInventory();
        calculate();
    }

    // --- Core Logic ---
    function setUnit(unit) {
        currentUnit = unit;
        
        // Update UI Buttons
        document.getElementById('btn-lbs').classList.toggle('active', unit === 'lbs');
        document.getElementById('btn-kg').classList.toggle('active', unit === 'kg');

        // Reset Inputs
        populateBarOptions();
        renderInventory();
        targetInput.placeholder = unit === 'lbs' ? "e.g., 225" : "e.g., 100";
        targetInput.value = '';
        
        // Clear visualization
        sleeveDiv.innerHTML = '';
        resultText.innerText = "Enter a weight...";
        remainderMsg.innerText = "";
    }

    function populateBarOptions() {
        barSelect.innerHTML = '';
        CONFIG[currentUnit].bars.forEach(weight => {
            const option = document.createElement('option');
            option.value = weight;
            option.text = `${weight} ${currentUnit}`;
            barSelect.appendChild(option);
        });
    }

    function renderInventory() {
        invContainer.innerHTML = '';
        const plates = CONFIG[currentUnit].plates;
        
        plates.forEach(weight => {
            const div = document.createElement('div');
            div.className = 'inv-item';
            
            const checkbox = document.createElement('input');
            checkbox.type = 'checkbox';
            checkbox.checked = inventory[currentUnit][weight];
            checkbox.onchange = (e) => {
                inventory[currentUnit][weight] = e.target.checked;
                calculate();
            };

            const label = document.createElement('span');
            label.innerText = weight;

            div.appendChild(checkbox);
            div.appendChild(label);
            invContainer.appendChild(div);
        });
    }

    function calculate() {
        const target = parseFloat(targetInput.value);
        const bar = parseFloat(barSelect.value);

        if (isNaN(target) || target <= bar) {
            sleeveDiv.innerHTML = '';
            resultText.innerText = target <= bar ? "Target must correspond to bar weight." : "Enter a valid weight.";
            remainderMsg.innerText = "";
            return;
        }

        let weightPerSide = (target - bar) / 2;
        let platesUsed = [];

        // Greedy Algorithm
        const availablePlates = CONFIG[currentUnit].plates.filter(p => inventory[currentUnit][p]);
        
        for (let plate of availablePlates) {
            while (weightPerSide >= plate) {
                platesUsed.push(plate);
                weightPerSide -= plate;
                // Fix floating point math issues (e.g. 2.5 - 2.5 = 0.0000001)
                weightPerSide = Math.round(weightPerSide * 100) / 100;
            }
        }

        renderResults(platesUsed, weightPerSide);
    }

    function renderResults(plates, remainder) {
        // 1. Render Visuals
        sleeveDiv.innerHTML = '';
        
        plates.forEach(weight => {
            const plateDiv = document.createElement('div');
            // Get color class
            const colorClass = CONFIG[currentUnit].colorMap[weight];
            plateDiv.className = `plate ${colorClass}`;
            plateDiv.innerText = weight;
            plateDiv.title = `${weight} ${currentUnit}`;
            sleeveDiv.appendChild(plateDiv);
        });

        // 2. Render Text
        if (plates.length === 0) {
            resultText.innerText = "No plates needed (or inventory disabled).";
        } else {
            // Group plates for text (e.g., "2x 45, 1x 10")
            const counts = {};
            plates.forEach(x => { counts[x] = (counts[x] || 0) + 1; });
            
            let textStr = Object.entries(counts)
                .sort((a,b) => parseFloat(b[0]) - parseFloat(a[0])) // Sort desc
                .map(([wt, count]) => `${count}x ${wt}`)
                .join(', ');
            
            resultText.innerHTML = `<strong>${textStr}</strong> <span style="font-size:0.9rem; color:#666">per side</span>`;
        }

        // 3. Remainder Warning
        if (remainder > 0) {
            remainderMsg.innerText = `‚ö†Ô∏è Cannot hit exact weight. Remainder: ${remainder * 2} ${currentUnit} total (${remainder} per side).`;
        } else {
            remainderMsg.innerText = "";
        }
    }

    // Start
    init();

</script>

</body>
</html>
