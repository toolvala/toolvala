<!DOCTYPE html>
<html lang="en">
<head>
    <!-- =========================================
         SEO & META DATA
         ========================================= -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- PRIMARY KEYWORDS -->
    <title>Free PDF Signer Online | Sign Documents Securely (No Uploads)</title>
    <meta name="description" content="Sign PDF documents online for free without uploading files to a server. 100% private, secure client-side electronic signature tool. Draw your signature and download instantly.">
    <meta name="keywords" content="sign pdf online, free pdf signer, electronic signature, no upload pdf signer, client side pdf tool, draw signature on pdf, sign pdf free">
    
    <!-- ROBOTS & INDEXING -->
    <meta name="robots" content="index, follow">
    <!-- IMPORTANT: Replace the URL below with your actual GitHub Pages URL or Custom Domain -->
    <link rel="canonical" href="https://yourusername.github.io/your-repo-name/">

    <!-- OPEN GRAPH (Social Media) -->
    <meta property="og:title" content="Free PDF Signer - Secure & Private">
    <meta property="og:description" content="Sign your PDF documents directly in your browser. No server uploads. 100% Free.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://yourusername.github.io/your-repo-name/">
    
    <!-- LIBRARIES & FONTS -->
    <!-- PDF-Lib for local PDF processing -->
    <script src="https://unpkg.com/pdf-lib/dist/pdf-lib.min.js"></script>
    <!-- Inter Font for modern UI -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

    <!-- JSON-LD SCHEMA (Google Rich Results) -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "SoftwareApplication",
      "name": "Secure Online PDF Signer",
      "applicationCategory": "BusinessApplication",
      "operatingSystem": "Web",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      },
      "description": "A browser-based tool to electronically sign PDF documents without uploading data to a server.",
      "featureList": "Client-side privacy, Draw signature, PDF manipulation, No registration required"
    }
    </script>
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "FAQPage",
      "mainEntity": [{
        "@type": "Question",
        "name": "Is this PDF signer safe to use?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Yes. This tool uses client-side JavaScript technology. Your PDF document never leaves your device and is never uploaded to any server, ensuring 100% privacy."
        }
      }, {
        "@type": "Question",
        "name": "Is it free to sign PDFs online?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Yes, this tool is completely free with no limits on the number of documents you can sign."
        }
      }]
    }
    </script>

    <!-- =========================================
         CSS STYLES
         ========================================= -->
    <style>
        :root {
            --primary: #2563eb;
            --primary-hover: #1d4ed8;
            --bg-color: #f8fafc;
            --surface: #ffffff;
            --text-main: #0f172a;
            --text-muted: #64748b;
            --border: #e2e8f0;
            --success: #16a34a;
            --error: #dc2626;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-main);
            margin: 0;
            padding: 0;
            line-height: 1.6;
        }

        /* Layout */
        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Tool Container */
        .tool-box {
            background: var(--surface);
            border-radius: 12px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            border: 1px solid var(--border);
            padding: 30px;
            margin-bottom: 50px;
        }

        .seo-content {
            max-width: 800px;
            margin: 0 auto;
            padding-bottom: 50px;
        }

        /* Typography */
        h1 { font-size: 2.5rem; color: var(--primary); margin-bottom: 10px; text-align: center; line-height: 1.2; }
        h1 span { color: var(--text-main); font-size: 1.5rem; display: block; margin-top: 10px; font-weight: 400; }
        h2 { color: var(--text-main); margin-top: 40px; font-size: 1.8rem; }
        h3 { color: var(--text-main); margin-top: 25px; font-size: 1.3rem; }
        p { color: #334155; margin-bottom: 15px; }
        
        /* Tool UI Steps */
        .step { margin-bottom: 30px; border-bottom: 1px solid var(--border); padding-bottom: 25px; }
        .step:last-child { border-bottom: none; }
        
        .step-header { display: flex; align-items: center; gap: 12px; margin-bottom: 15px; font-weight: 700; font-size: 1.2rem; }
        .badge { background: var(--primary); color: white; width: 30px; height: 30px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 0.9rem; }

        /* File Upload Area */
        .upload-area {
            border: 2px dashed #94a3b8;
            background: #f1f5f9;
            padding: 40px;
            text-align: center;
            border-radius: 8px;
            cursor: pointer;
            transition: 0.2s;
        }
        .upload-area:hover { border-color: var(--primary); background: #eff6ff; }
        .upload-icon { font-size: 2.5rem; display: block; margin-bottom: 10px; }

        /* Signature Canvas */
        .canvas-wrapper {
            position: relative;
            background: #fff;
            border: 2px solid #cbd5e1;
            border-radius: 6px;
            height: 200px;
            cursor: crosshair;
            background-image: radial-gradient(#cbd5e1 1px, transparent 1px);
            background-size: 20px 20px;
        }
        canvas { width: 100%; height: 100%; touch-action: none; /* Prevents scrolling while drawing on mobile */ }

        /* Form Controls */
        .controls-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        label { display: block; font-size: 0.9rem; font-weight: 600; margin-bottom: 5px; color: var(--text-main); }
        select, input[type="number"], input[type="range"] {
            width: 100%;
            padding: 10px;
            border: 1px solid var(--border);
            border-radius: 6px;
            box-sizing: border-box;
        }

        /* Buttons */
        .btn {
            background: var(--primary); color: white; border: none; padding: 12px 24px;
            border-radius: 6px; font-weight: 600; cursor: pointer; font-size: 1rem; width: 100%;
            transition: 0.2s;
        }
        .btn:hover { background: var(--primary-hover); }
        .btn:disabled { background: #94a3b8; cursor: not-allowed; }
        
        .btn-text { background: transparent; color: var(--error); border: 1px solid var(--error); width: auto; font-size: 0.9rem; padding: 5px 15px; border-radius: 4px; cursor: pointer;}
        .btn-text:hover { background: #fef2f2; }

        /* Status Messages */
        .status { margin-top: 10px; font-weight: 600; min-height: 24px; font-size: 0.9rem; }
        .text-success { color: var(--success); }
        .text-error { color: var(--error); }

        /* Info Boxes */
        .info-box { background: #eff6ff; padding: 20px; border-left: 4px solid var(--primary); margin: 20px 0; border-radius: 4px; }
        ul { padding-left: 20px; color: #334155; }
        li { margin-bottom: 10px; }

        /* Mobile Adjustments */
        @media (max-width: 600px) {
            h1 { font-size: 1.8rem; }
            .tool-box { padding: 15px; }
        }
    </style>
</head>
<body>

    <!-- HERO HEADER -->
    <header class="container">
        <h1>
            Free PDF Signer Online
            <span>Securely Sign Documents without Uploading</span>
        </h1>
        <p style="text-align: center; max-width: 600px; margin: 0 auto 30px auto; color: var(--text-muted);">
            Draw your signature and add it to any PDF page instantly. Your files run 100% in your browser (Client-Side).
        </p>
    </header>

    <!-- MAIN APP INTERFACE -->
    <main class="container">
        <div class="tool-box">
            
            <!-- STEP 1: UPLOAD -->
            <div class="step">
                <div class="step-header"><span class="badge">1</span> Upload PDF</div>
                <div class="upload-area" onclick="document.getElementById('pdfInput').click()">
                    <span class="upload-icon">üìÑ</span>
                    <strong>Click here to Select PDF</strong>
                    <p style="margin: 5px 0 0 0; font-size: 0.85rem; color: #64748b;">Accepts standard PDF files</p>
                </div>
                <input type="file" id="pdfInput" accept="application/pdf" style="display: none">
                <div id="fileStatus" class="status"></div>
            </div>

            <!-- STEP 2: DRAW -->
            <div class="step">
                <div class="step-header">
                    <span class="badge">2</span> Draw Signature
                    <button class="btn-text" id="clearBtn" style="margin-left: auto;">Clear & Retry</button>
                </div>
                <div class="canvas-wrapper" id="canvasContainer">
                    <canvas id="sigCanvas"></canvas>
                </div>
                <p style="font-size: 0.85rem; color: #64748b; margin-top: 5px;">Tip: Use a mobile or tablet for easier drawing.</p>
            </div>

            <!-- STEP 3: CUSTOMIZE & DOWNLOAD -->
            <div class="step">
                <div class="step-header"><span class="badge">3</span> Customize & Download</div>
                
                <div class="controls-grid">
                    <div>
                        <label>Page Number</label>
                        <input type="number" id="pageNumber" min="1" value="1">
                        <small style="color: #64748b;" id="pageCountDisplay">Pages: 0</small>
                    </div>
                    <div>
                        <label>Signature Position</label>
                        <select id="positionPreset">
                            <option value="br">Bottom Right</option>
                            <option value="bl">Bottom Left</option>
                            <option value="bc">Bottom Center</option>
                            <option value="c">Center Page</option>
                        </select>
                    </div>
                    <div>
                        <label>Size / Scale</label>
                        <input type="range" id="sigScale" min="0.1" max="1.5" step="0.1" value="0.4">
                    </div>
                    <div>
                        <label>Vertical Offset (Up/Down)</label>
                        <input type="range" id="yOffset" min="-300" max="300" value="0">
                    </div>
                </div>

                <div style="margin-top: 30px;">
                    <button id="downloadBtn" class="btn" disabled>Waiting for PDF...</button>
                    <div id="processStatus" class="status" style="text-align: center;"></div>
                </div>
            </div>
        </div>
    </main>

    <!-- SEO CONTENT -->
    <article class="container seo-content">
        <h2>Why Use This Client-Side PDF Signer?</h2>
        <p>In today's digital workflow, printing, signing, scanning, and emailing documents is obsolete. However, many online tools require you to upload your sensitive contracts to unknown servers. This creates a security risk.</p>
        
        <div class="info-box">
            <strong>The Privacy Advantage:</strong> Unlike other services, this tool runs 100% in your browser using HTML5 and JavaScript. Your PDF file <em>never</em> leaves your computer or phone. You can even use this tool while disconnected from the internet!
        </div>

        <h3>Key Features</h3>
        <ul>
            <li><strong>No Watermarks:</strong> The signed PDF is clean and professional.</li>
            <li><strong>Cross-Platform:</strong> Works on Windows, Mac, Linux, iPhone (iOS), and Android.</li>
            <li><strong>Instant Processing:</strong> No waiting for uploads or downloads. The signing happens in milliseconds.</li>
            <li><strong>Legally Binding:</strong> Creates a standard electronic signature (eSign) valid for most agreements, leases, and invoices.</li>
        </ul>

        <h2>How to Sign a PDF Without Adobe Acrobat</h2>
        <p>You don't need expensive software to add a signature to a PDF. Follow these simple steps:</p>
        <ol>
            <li><strong>Upload:</strong> Select your file in the box above.</li>
            <li><strong>Draw:</strong> Use your mouse or finger to draw your signature in the canvas area.</li>
            <li><strong>Adjust:</strong> Select which page needs the signature. Use the sliders to change the size or move the signature up/down to align with the signature line.</li>
            <li><strong>Download:</strong> Click the button to save your signed document immediately.</li>
        </ol>

        <h2>Frequently Asked Questions (FAQ)</h2>
        
        <h3>Is this free PDF signer safe?</h3>
        <p>Yes. Because it uses <strong>Client-Side processing</strong>, your data is not stored on our servers. It is the safest way to sign bank forms, tax documents, or NDAs online without specialized software.</p>

        <h3>Can I use this on my mobile phone?</h3>
        <p>Absolutely. The signature pad supports touch events, making it easy to sign with your finger or a stylus on smartphones and tablets.</p>

        <h3>What is the difference between eSign and Digital Signatures?</h3>
        <p>This tool creates an <strong>Electronic Signature (eSign)</strong>, which places an image of your signature on the file. This is widely accepted for business contracts. A <em>Digital Signature</em> involves cryptographic certificates, which are required for specific government procedures but are not needed for everyday use.</p>
    </article>

    <!-- =========================================
         JAVASCRIPT LOGIC
         ========================================= -->
    <script>
        const { PDFDocument } = PDFLib;

        // UI References
        const pdfInput = document.getElementById('pdfInput');
        const fileStatus = document.getElementById('fileStatus');
        const canvas = document.getElementById('sigCanvas');
        const ctx = canvas.getContext('2d');
        const container = document.getElementById('canvasContainer');
        const clearBtn = document.getElementById('clearBtn');
        const downloadBtn = document.getElementById('downloadBtn');
        const processStatus = document.getElementById('processStatus');
        
        // Control References
        const pageNumInput = document.getElementById('pageNumber');
        const pageCountLabel = document.getElementById('pageCountDisplay');
        const posPreset = document.getElementById('positionPreset');
        const sigScale = document.getElementById('sigScale');
        const yOffset = document.getElementById('yOffset');

        // App State
        let pdfBuffer = null;
        let isDrawing = false;
        let hasSignature = false;
        let totalPages = 0;

        // 1. SETUP CANVAS & RESIZING
        function resizeCanvas() {
            // Match canvas resolution to display size for sharp lines
            canvas.width = container.offsetWidth;
            canvas.height = container.offsetHeight;
            
            // Drawing styles
            ctx.lineWidth = 2;
            ctx.lineCap = 'round';
            ctx.lineJoin = 'round';
            ctx.strokeStyle = '#000';
        }
        window.addEventListener('resize', resizeCanvas);
        // Initialize after DOM load
        setTimeout(resizeCanvas, 100);

        // 2. DRAWING LOGIC (Mouse & Touch)
        function getCoords(e) {
            const rect = canvas.getBoundingClientRect();
            let clientX, clientY;
            
            if (e.touches && e.touches.length > 0) {
                clientX = e.touches[0].clientX;
                clientY = e.touches[0].clientY;
            } else {
                clientX = e.clientX;
                clientY = e.clientY;
            }
            return { x: clientX - rect.left, y: clientY - rect.top };
        }

        // Start Drawing
        const startDraw = (e) => {
            isDrawing = true;
            const {x, y} = getCoords(e);
            ctx.beginPath();
            ctx.moveTo(x, y);
            // Prevent scrolling on touch devices while drawing
            if(e.type === 'touchstart') e.preventDefault();
        };

        // Move Drawing
        const moveDraw = (e) => {
            if(!isDrawing) return;
            const {x, y} = getCoords(e);
            ctx.lineTo(x, y);
            ctx.stroke();
            hasSignature = true;
            updateButtonState();
            if(e.type === 'touchmove') e.preventDefault();
        };

        // Stop Drawing
        const stopDraw = () => {
            isDrawing = false;
        };

        // Add Event Listeners
        canvas.addEventListener('mousedown', startDraw);
        canvas.addEventListener('touchstart', startDraw, {passive: false});

        canvas.addEventListener('mousemove', moveDraw);
        canvas.addEventListener('touchmove', moveDraw, {passive: false});

        canvas.addEventListener('mouseup', stopDraw);
        canvas.addEventListener('mouseleave', stopDraw);
        canvas.addEventListener('touchend', stopDraw);

        // Clear Canvas
        clearBtn.addEventListener('click', () => {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            hasSignature = false;
            updateButtonState();
        });

        // 3. FILE UPLOAD LOGIC
        pdfInput.addEventListener('change', async (e) => {
            const file = e.target.files[0];
            if(!file) return;

            if(file.type !== 'application/pdf') {
                fileStatus.innerHTML = '<span class="text-error">‚ùå Invalid file. Please upload a PDF.</span>';
                return;
            }

            try {
                fileStatus.innerHTML = '‚è≥ Loading PDF...';
                const buffer = await file.arrayBuffer();
                pdfBuffer = buffer;
                
                // Read PDF metadata to get page count
                const pdfDoc = await PDFDocument.load(buffer);
                totalPages = pdfDoc.getPageCount();
                
                // Update UI
                pageNumInput.max = totalPages;
                pageCountLabel.textContent = `Pages: ${totalPages}`;
                fileStatus.innerHTML = `<span class="text-success">‚úÖ Loaded: ${file.name}</span>`;
                updateButtonState();
            } catch (err) {
                console.error(err);
                fileStatus.innerHTML = '<span class="text-error">‚ùå Error loading PDF. Is it password protected?</span>';
            }
        });

        // 4. CHECK READINESS
        function updateButtonState() {
            if(pdfBuffer && hasSignature) {
                downloadBtn.disabled = false;
                downloadBtn.textContent = "‚¨á Download Signed PDF";
                downloadBtn.style.opacity = "1";
            } else {
                downloadBtn.disabled = true;
                downloadBtn.style.opacity = "0.7";
                if(!pdfBuffer) downloadBtn.textContent = "Waiting for PDF...";
                else if(!hasSignature) downloadBtn.textContent = "Draw Signature First...";
            }
        }

        // 5. PROCESS & DOWNLOAD LOGIC
        downloadBtn.addEventListener('click', async () => {
            if(!pdfBuffer || !hasSignature) return;
            
            processStatus.innerText = "‚è≥ Processing... (Client-Side)";
            
            try {
                // A. Convert Canvas to PNG image bytes
                const pngDataUrl = canvas.toDataURL('image/png');
                const pngImageBytes = await fetch(pngDataUrl).then(res => res.arrayBuffer());

                // B. Load PDF & Embed PNG
                const pdfDoc = await PDFDocument.load(pdfBuffer);
                const pngImage = await pdfDoc.embedPng(pngImageBytes);
                
                // C. Scale Image
                const scaleVal = parseFloat(sigScale.value);
                const pngDims = pngImage.scale(scaleVal);
                
                // D. Determine Page
                let pageIndex = parseInt(pageNumInput.value) - 1;
                // Safety bounds
                if(pageIndex < 0) pageIndex = 0;
                if(pageIndex >= totalPages) pageIndex = totalPages - 1;
                
                const page = pdfDoc.getPages()[pageIndex];
                const { width, height } = page.getSize();

                // E. Calculate Position (X, Y)
                // Note: PDF coordinates usually start at Bottom-Left
                const margin = 50;
                let x = 0, y = 0;
                const preset = posPreset.value;

                // Horizontal
                if(preset === 'bl' || preset === 'bc') {
                    if(preset === 'bc') x = (width - pngDims.width) / 2;
                    else x = margin;
                } else if (preset === 'br') {
                    x = width - pngDims.width - margin;
                } else if (preset === 'c') {
                    x = (width - pngDims.width) / 2;
                }

                // Vertical
                const offset = parseInt(yOffset.value);
                if(preset === 'c') {
                    y = ((height - pngDims.height) / 2) + offset;
                } else {
                    // Default to bottom margin plus offset
                    y = margin + offset; 
                }

                // F. Draw on Page
                page.drawImage(pngImage, {
                    x: x,
                    y: y,
                    width: pngDims.width,
                    height: pngDims.height,
                });

                // G. Save PDF to Bytes
                const pdfBytes = await pdfDoc.save();

                // H. Trigger Download (Browser Memory Blob)
                const blob = new Blob([pdfBytes], { type: 'application/pdf' });
                const link = document.createElement('a');
                link.href = URL.createObjectURL(blob);
                link.download = `signed_document_${Date.now()}.pdf`;
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
                
                processStatus.innerHTML = '<span class="text-success">‚úÖ Downloaded Successfully!</span>';
                
            } catch(e) {
                console.error(e);
                processStatus.innerHTML = '<span class="text-error">‚ùå Error processing file.</span>';
            }
        });
    </script>
</body>
</html>
